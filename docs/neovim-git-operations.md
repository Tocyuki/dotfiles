# Neovim Git操作ガイド

このドキュメントはNeovim設定でのGit操作に関するキーマッピングと使用方法を説明します。

## GitSigns プラグイン

GitSignsプラグインによるGit差分（hunk）操作のキーマッピング設定です。

### ハンク移動

| キー | 機能 |
|------|------|
| `]c` | 次のハンク（変更箇所）に移動 |
| `[c` | 前のハンク（変更箇所）に移動 |

### ハンク操作

| キー | 機能 | モード |
|------|------|--------|
| `<leader>hs` | ハンクをステージング | ノーマル |
| `<leader>hs` | 選択範囲をステージング | ビジュアル |
| `<leader>hr` | ハンクをリセット | ノーマル |
| `<leader>hr` | 選択範囲をリセット | ビジュアル |

### バッファ全体操作

| キー | 機能 |
|------|------|
| `<leader>hS` | バッファ全体をステージング |
| `<leader>hR` | バッファ全体をリセット |

### 表示・確認

| キー | 機能 |
|------|------|
| `<leader>hp` | ハンクプレビュー表示 |
| `<leader>hb` | blame情報表示 |
| `<leader>hd` | 差分表示 |
| `<leader>hD` | HEADとの差分表示 |

#### 差分表示から戻る方法

`<leader>hd`で差分表示した後、前の画面に戻るには：

- `:q` または `:close` - diffウィンドウを閉じる
- `<C-w>o` - 現在のウィンドウのみを表示（他のウィンドウを閉じる）

### QuickFixリスト

| キー | 機能 |
|------|------|
| `<leader>hq` | 変更ハンクをQuickFixリストに追加 |
| `<leader>hQ` | 全てのハンクをQuickFixリストに追加 |

### トグル機能

| キー | 機能 |
|------|------|
| `<leader>tb` | 行blame表示の切り替え |
| `<leader>tw` | 単語差分表示の切り替え |

### テキストオブジェクト

| キー | 機能 | モード |
|------|------|--------|
| `ih` | ハンク選択 | オペレータ・ビジュアル |

### 設定詳細

- **未追跡ファイルのハイライト**: 赤色（`#ff6b6b`）で表示
- **サインカラム記号**:
  - 追加: `▌`
  - 変更: `▌`
  - 削除: `▁`
  - 上部削除: `▔`
  - 変更削除: `~`
  - 未追跡: `▌`

## LSP関連のGit操作

### 定義ジャンプ

| キー | 機能 |
|------|------|
| `gd` | カーソル下のシンボルの定義にジャンプ |
| `gr` | リファレンス（参照箇所）を表示 |
| `rn` | シンボル名の変更（リネーム） |

### 診断・エラー表示

| キー | 機能 |
|------|------|
| `K` | エラー詳細をフロート表示 |
| `<leader>q` | 診断エラーをロケーションリストに表示 |

## 設定ファイル

- GitSigns設定: `.config/nvim/lua/plugins/editor.lua:229-247`
- LSP設定: `.config/nvim/lua/plugins/lsp.lua:48-56`
